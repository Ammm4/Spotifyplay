(this.webpackJsonpjammming=this.webpackJsonpjammming||[]).push([[0],[,,,,,,,,,function(e,t,a){e.exports=a(21)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n,r=a(0),s=a.n(r),i=a(8),c=a.n(i),o=(a(14),a(2)),l=a(3),u=a(5),h=a(4),m=a(1),p=a(6),d=(a(15),a(16),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={term:""},a.button=s.a.createRef(),a.Search=a.Search.bind(Object(m.a)(a)),a.handleTermChange=a.handleTermChange.bind(Object(m.a)(a)),a.handleKeyUp=a.handleKeyUp.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"Search",value:function(){this.props.onSearch(this.state.term)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.button.current.click()}},{key:"handleTermChange",value:function(e){var t=e.target.value;this.setState({term:t})}},{key:"render",value:function(){return s.a.createElement("div",{className:"SearchBar"},s.a.createElement("input",{placeholder:"Enter A Song, Album, or Artist",onChange:this.handleTermChange,onKeyUp:this.handleKeyUp}),s.a.createElement("button",{className:"SearchButton",onClick:this.Search,ref:this.button},"SEARCH"),s.a.createElement("div",{style:{color:"red",marginTop:"5px"}},this.props.inputError))}}]),t}(s.a.Component)),k=(a(17),a(18),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).addTrack=a.addTrack.bind(Object(m.a)(a)),a.removeTrack=a.removeTrack.bind(Object(m.a)(a)),a.renderAction=a.renderAction.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"renderAction",value:function(e){return e?s.a.createElement("button",{className:"Track-action",onClick:this.removeTrack},"-"):s.a.createElement("button",{className:"Track-action",onClick:this.addTrack},"+")}},{key:"addTrack",value:function(){this.props.onAdd(this.props.track)}},{key:"removeTrack",value:function(){this.props.onRemove(this.props.track)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Track"},s.a.createElement("div",{className:"Track-information"},s.a.createElement("h4",null,this.props.track.name),s.a.createElement("p",null,this.props.track.artist," | ",this.props.track.album)),this.renderAction(this.props.isRemoval))}}]),t}(s.a.Component)),v=(a(19),function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"TrackList"},this.props.tracks.map((function(t){return s.a.createElement(k,{track:t,key:t.id,onAdd:e.props.onAdd,isRemoval:e.props.isRemoval,onRemove:e.props.onRemove})})))}}]),t}(s.a.Component)),b=function(e){function t(){return Object(o.a)(this,t),Object(u.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"SearchResults"},s.a.createElement("h2",null,"Results"),s.a.createElement(v,{tracks:this.props.searchResults,onAdd:this.props.onAdd,isRemoval:!1}))}}]),t}(s.a.Component),y=(a(20),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).handleNameChange=a.handleNameChange.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleNameChange",value:function(e){var t=e.target.value;this.props.onNameChange(t)}},{key:"render",value:function(){return s.a.createElement("div",{className:"Playlist"},s.a.createElement("input",{placeholder:this.props.playlistName,value:this.props.inputValue,onChange:this.handleNameChange}),s.a.createElement(v,{tracks:this.props.playlistTracks,onRemove:this.props.onRemove,isRemoval:!0}),s.a.createElement("button",{className:"Playlist-save",onClick:this.props.onSave},"SAVE"))}}]),t}(s.a.Component)),f=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).ref=s.a.createRef(),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.ref.current.scrollIntoView()}},{key:"render",value:function(){return s.a.createElement("div",{className:"error-container",ref:this.ref},"success"===this.props.error?s.a.createElement("span",{style:{color:"white"}},"Playlist Saved!"):s.a.createElement("span",null,this.props.error))}}]),t}(s.a.Component),j={getAccessToken:function(){if(n)return n;var e=window.location.href.match(/access_token=([^&]*)/),t=window.location.href.match(/expires_in=([^&]*)/);if(e&&t){n=e[1];var a=Number(t[1]);return window.setTimeout((function(){return n=""}),1e3*a),window.history.pushState("Access Token",null,"/"),n}var r="https://accounts.spotify.com/authorize?client_id=".concat("3022cf5a900d4b50a4d0f7549ce41730","&response_type=token&scope=playlist-modify-public&redirect_uri=").concat("https://ammm4.github.io/Spotifyplay");window.location=r},search:function(e){var t=j.getAccessToken();return fetch("https://api.spotify.com/v1/search?type=track&q=".concat(e),{method:"GET",headers:{Authorization:"Bearer ".concat(t)}}).then((function(e){return e.json()})).then((function(e){return e.tracks?e.tracks.items.map((function(e){return{id:e.id,name:e.name,artist:e.artists[0].name,album:e.album.name,uri:e.uri}})):[]}))}},O=j,T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={SearchResults:[],playlistName:"New Playlist",newPlayListName:"",playlistTracks:[],inputError:"",error:""},a.addTrack=a.addTrack.bind(Object(m.a)(a)),a.removeTrack=a.removeTrack.bind(Object(m.a)(a)),a.updatePlaylistName=a.updatePlaylistName.bind(Object(m.a)(a)),a.savePlaylist=a.savePlaylist.bind(Object(m.a)(a)),a.Search=a.Search.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"Search",value:function(e){var t=this;e?(this.setState({inputError:""}),O.search(e).then((function(e){t.setState({SearchResults:e})}))):this.setState({inputError:"Enter a Artist, Song or Album"})}},{key:"addTrack",value:function(e){this.state.playlistTracks.find((function(t){return t.id===e.id}))||(this.state.playlistTracks.push(e),this.setState({playlistTracks:this.state.playlistTracks}))}},{key:"removeTrack",value:function(e){this.setState({playlistTracks:this.state.playlistTracks.filter((function(t){return e.id!==t.id}))})}},{key:"updatePlaylistName",value:function(e){this.setState({newPlayListName:e})}},{key:"savePlaylist",value:function(){var e=this;0!==this.state.playlistTracks.length&&""!==this.state.newPlayListName?(this.setState({newPlayListName:"",playlistTracks:[]}),this.setState({error:"success"})):this.setState({error:"Missing Tracks or Playlist Name"}),window.setTimeout((function(){return e.setState({error:""})}),5e3)}},{key:"componentDidMount",value:function(){O.getAccessToken()}},{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("h1",null,"Ja",s.a.createElement("span",{className:"highlight"},"mmm"),"ing"),s.a.createElement("div",{className:"App"},s.a.createElement(d,{onSearch:this.Search,inputError:this.state.inputError}),this.state.error&&s.a.createElement(f,{error:this.state.error}),s.a.createElement("div",{className:"App-playlist"},s.a.createElement(b,{searchResults:this.state.SearchResults,onAdd:this.addTrack}),s.a.createElement(y,{playlistName:this.state.playlistName,inputValue:this.state.newPlayListName,playlistTracks:this.state.playlistTracks,onRemove:this.removeTrack,onNameChange:this.updatePlaylistName,onSave:this.savePlaylist}))))}}]),t}(s.a.Component);c.a.render(s.a.createElement(T,null),document.getElementById("root"))}],[[9,1,2]]]);
//# sourceMappingURL=main.6adf8de0.chunk.js.map